# 雑記 - Note

## GNU Typist

### デモレッスンの存在

`demo.typ` という、レッスンファイルの仕様が説明してあるデモレッスンを発見した。
`gtypist` をインストールしてあれば `/usr/share/gtypist/demo.typ` に置かれている。
動かすには `gtypist /usr/share/gtypist/demo.typ` とする。
これを見ることによって、レッスンファイルを眺めただけでは知ることができなかったことをいくつか知った。

レッスンファイルの仕様をより詳しく知ったので、microのシンタックスハイライトの定義を更新しておきたい。
とはいえ、今のままでも一応十分ではある。
シンタックスハイライトを更新するにはテスト用のレッスンファイルを作ったりする必要があるので、それなりに面倒だし。

独自レッスンのREADMEにも `demo.typ` のことを書いておきたい。
とはいえ、すでに自動生成スクリプトは用意したので、単語リストだけで貢献できるから、レッスンファイルの仕様を知る必要は薄れている。

`demo.typ` があることはGNU Typistの公式マニュアルには書いてないらしい。
レッスンファイルの仕様はマニュアルに別に詳しく書いてあるらしい。
公式マニュアルも読んでおきたいけど面倒だ。
仮にもソフトウェアを開発してるのに、マニュアルを読むのが面倒だとはふとどきだが。

### レッスン生成を自動化した

単語のリストを与えると反復練習のレッスンファイルを生成するツールを作った。
まだ多少、手動でスクリプトを編集する必要はあるが。

手書きのレッスンの方が味があって良いのかもしれないが。
自動生成のものと手書きのものを混ぜても良いかもしれない。

レッスンファイルのフォーマットを拡張して、単語のリストを埋め込むだけで単語の反復練習を生成できるようにするのも良いかもしれない。

### 次に作りたいレッスンたち

最近使っている言語や、最近使っているツールの開発言語を優先するなら、次に作りたいレッスンの言語は以下のものたち。

* JavaScript
* Rust
* C++

レッスンの自動生成スクリプトを作って満足してしまったのか、実際のレッスンの言語を増やすのが億劫になっている。
そもそもプログラミング言語なんて星の数ほどあるので、どこまで対応すれば良いのか分からない。
対応言語が多いことが価値なのかどうか、疑問がある。
コラボレーションの観点からも、気長に誰かの貢献を待つのが良いのかもしれないし。
なんて、こんなマイナーなプロジェクト、誰も参加しないだろうけど。

## サイトの方針

### 英語の併記

国際化の観点からは、サイトの内容は英語で書くのが望ましいが、こちらは母国語が日本語で、英語は外国語なので、全部を英語で書くのは難しい。
なので基本的に、サイトの内容は日本語で書くことにする。
でもそれだと、日本語が読めない訪問者はそっ閉じしてしまうので、せめて各見出しだけは英語訳を付けることにした。
これなら、英語の見出しを見て興味を持ってくれたら、内容をAI翻訳して読んでくれるかもしれない。
淡い期待かもしれないが。

この方針をトップページに明記しようかとも思ったが、ちょっとウザイ感じがしたので、やめた。

そもそも、最近のメジャーなウェブブラウザは、サイトの言語を自動で判定して、外国語なら翻訳する選択肢が出るようになっているようだ。
なので、ここでの懸念は杞憂に過ぎないのかもしれない。
逆に、見出しに英語訳を付けると、ブラウザの翻訳機能の妨げになったりするかもしれない。
なかなか面倒な世界だが、いつかしっかり確認しておきたい。

### 口調

口調を統一した方が良いだろうか。
どんな口調が良いのだろう。

## markdown

### モダンなコマンドに置き換えられるかも

サイトを生成するのに使っている `markdown` コマンドは、現在は古風なPerl製のものだが、モダンなGo製のものに置き換えても、だいたいそのまま動きそうに思える。
もちろん、モダンなコンドはHTMLのヘッダとフッタも生成するだろうから、現在の補助スクリプトは多少修正しなければならないだろう。
このことは、[サイト生成のページ](github-pages.html)に説明を加えても良いかもしれない。
でも今のところ実際に試すつもりは無いので、我慢している。
実際に試さず書くのも無責任なので。
それとも、その気持ちを緩めて敢えて書いておけば、読んだ人が試して報告してくれるだろうか。
淡い期待だ。

### タイトルが見出しを反映するように

古風なPerl製の `markdown` コマンドはHTMLのうち本体部分しか出力しないので、ヘッダとフッタは後からくっつけている。
ウェブページのタイトルはヘッダで指定するので、後からくっつけるヘッダが固定だと、タイトルも固定されてしまう。
各Markdownファイルの最大見出しをページのタイトルにしたいところだが、今はまだそのようになっていない。

やるとしたら、 `markdown` コマンド自体をカスタマイズしようとすると沼にはまりそうなので、後からくっつけるヘッダを動的に生成する方が良いと思っている。

といったわけで、作ってしまった。

### 外部サイトへのリンクの区別

サイト内のリンクと外部サイトへのリンクが見た目で区別できると親切だ。
そこで外部サイトへのリンクには手動で絵文字のリンク🔗を付けることにした。
`markdown` コマンドを改造すれば自動で付けることもできるが、沼にはまりたくないので我慢した。
CSSでもできるらしいが、別のCSSを追加する方法で少し試してみたがうまく行かなかったので、深入りはしない。
ちなみに、CSSではテキストブラウザに対応できないから、 `markdown` コマンド改造の方が有力だ。

別の案として、 `markdown` が出力したHTMLを1行に整形した後、 `sed` で外部リンクのaタグに絵文字のリンク🔗を追加するのはできそうに思っている。
その後に `tidy` を掛ける。

HTMLを1行にするとpreタグの中身が崩れてしまう。
Markdownの段階で処理した方が良い。

といったわけで、作ってしまった。

## 文章を書くこと

文章のテーマを考えるのは割と簡単だが、その中身を書くのは面倒だ。

## キーボードに触ること

プログラムのネタを考えるのも、文章のネタを考えるのも、結局はキーボードに触る理由を作るために過ぎない。

## Hugoに敗けた

このサイトを古風なPerl製の `markdown` コマンドで作る前、Hugoを試してみたけれども上手く行かずあきらめた。
`markdown` コマンドで上手くできてしまったので、Hugoに再挑戦する理由が無い。
気にはなるのだが。

## ハードな折り返し

ウェブページをMarkdownで書いてると、1行が長くなって、すぐにテキストエディタの右を越えてしまう。
ハードな折り返しを自動で行なうmicroのプラグインとかほしいが、単純に文字単位で折り返すのは良くないのだろう。
私の場合、句読点で折り返したいが、なかなか面倒なことになりそうな予感がする。
Markdownなどではリンク文字列で折り返したいし。
でも結構面白い課題なのかもしれない。

## CSS

現在このサイトでは `simple.css` を使っている。
とても気に入っているが、少し不満がある。
ひとつは、 &lt;hr /&gt; が見えないこと。
もうひとつは、見出しの後の縦の空白が大き過ぎること。
でもこれは改めて見ると、このままで良いのかもしれないとも思う。
ひとつのHTMLファイルに複数のCSSファイルを読み込ませることができるので、 `custom.css` を後から追加して部分的に上書きできるはず。
余裕があったら調整したいとも思うが、デザイン沼にはまりたくないので我慢した方が良いもしれないとも思う。
