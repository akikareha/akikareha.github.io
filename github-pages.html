<!DOCTYPE html>
<html lang="en">
<head>
<meta name="generator" content=
"HTML Tidy for HTML5 for Linux version 5.6.0">
<meta charset="UTF-8">
<meta name="viewport" content=
"width=device-width, initial-scale=1">
<title>ç§ã®GitHubãƒšãƒ¼ã‚¸ã®ä½œã‚Šæ–¹ - How I Made My GitHub Page | ã‹ã‚Œã¯é–‹ç™ºå®¤ -
Kareha Hub</title>
<link rel="stylesheet" href="simple.css">
<link rel="stylesheet" href="custom.css">
<link rel="icon" href="flamingo-favicon.png" type="image/png">
</head>
<body>
<header><a href="/">ã‹ã‚Œã¯é–‹ç™ºå®¤ - Kareha Hub</a></header>
<h1>ç§ã®GitHubãƒšãƒ¼ã‚¸ã®ä½œã‚Šæ–¹</h1>
<p>How I Made My GitHub Page</p>
<h2>GitHubãƒšãƒ¼ã‚¸ã¨ã¯ï¼Ÿ</h2>
<p><a href="github.html">GitHub</a>ã¯ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚’ä½œã‚‹äººãŸã¡ã®ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã§ã€<a href=
"git.html">Git</a>ã¨ã„ã†ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’å…±æœ‰ã§ãã‚‹ä»•çµ„ã¿ã«ãªã£ã¦ã„ã‚‹ã€‚
Gitã¯ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã ã‘ã§ãªãã€<strong>ãƒ•ã‚¡ã‚¤ãƒ«ãªã‚‰ä½•ã§ã‚‚å…±æœ‰ã§ãã‚‹</strong>ã€‚
<strong>ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚å…±æœ‰ã§ãã‚‹</strong>ã‚ã‘ã ã€‚</p>
<p>GitHubã§ã¯ã€Gitã‚’ä½¿ã£ã¦ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’ä½œã‚‹ä»•çµ„ã¿ã‚‚æä¾›ã—ã¦ã„ã¦ã€ã“ã‚ŒãŒ<a href=
"https://pages.github.com/">GitHubãƒšãƒ¼ã‚¸</a>ğŸ”—ã¨å‘¼ã°ã‚Œã‚‹ã€‚ åŸºæœ¬çš„ãªä½¿ã„æ–¹ã¯æ¬¡ã®é€šã‚Šã€‚</p>
<ol>
<li>GitHubã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹ã€‚</li>
<li>ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆã™ã‚‹ã€‚</li>
<li>ã‚¦ã‚§ãƒ–ãƒšãƒ¼ã‚¸ç”¨ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”¨æ„ã™ã‚‹ã€‚</li>
<li>ãƒªãƒã‚¸ãƒˆãƒªã®è¨­å®šã§Pagesã‚’æœ‰åŠ¹ã«ã™ã‚‹ã€‚</li>
</ol>
<p>å…¬é–‹URLã¯ <code>https://ãƒ¦ãƒ¼ã‚¶å.github.io/ãƒªãƒã‚¸ãƒˆãƒªå/</code> ã«ãªã‚‹ã€‚
ãŸã ã—ã€ãƒªãƒã‚¸ãƒˆãƒªåã‚’ <code>ãƒ¦ãƒ¼ã‚¶å.github.io</code> ã«ã—ãŸå ´åˆã¯ãƒ¦ãƒ¼ã‚¶ã‚µã‚¤ãƒˆã¨å‘¼ã°ã‚Œã€å…¬é–‹URLã¯ç‰¹åˆ¥ã«
<code>https://ãƒ¦ãƒ¼ã‚¶å.github.io/</code> ã«ãªã‚‹ã€‚</p>
<p>GitHubè‡ªä½“ãŒåŸºæœ¬çš„ã«ç„¡æ–™ã§ä½¿ãˆã‚‹ã—ã€GitHubãƒšãƒ¼ã‚¸ã‚‚ç„¡æ–™ã§ä½¿ãˆã‚‹ã®ã§ã€è²§ä¹äººã«ã¯å„ªã—ãã€å±…å¿ƒåœ°ãŒè‰¯ã„ã€‚
ã‚ªãƒ¼ãƒŠãƒ¼ãŒMicrosoftã§ã‚ã‚‹ã“ã¨ã‚’é™¤ã‘ã°â€¦ã„ã‚„ã€ã‚‚ã¯ã‚„è¨€ã†ã¾ã„ã€‚</p>
<h2>Markdownã‚’ä½¿ã†æ–¹æ³•</h2>
<p>ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®å†…å®¹ã¯ã€å¥½ããªãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦é™çš„ãªHTMLãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚Œã°è‰¯ã„ã€‚ ç§ã¯<a href=
"markdown.html">Markdown</a>ã§æ›¸ã„ã¦ã€ã‚³ãƒãƒ³ãƒ‰ã§HTMLã«å¤‰æ›ã™ã‚‹ã“ã¨ã«ã—ãŸã€‚ ã‚³ãƒãƒ³ãƒ‰ã¯
<code>markdown</code> ã§ã€Debianãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã‚ã‚Šã€ <code>apt-get install
markdown</code> ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã‚‹ã€‚ã“ã‚Œã¯Perlã§ä½œã‚‰ã‚Œã¦ã„ã‚‹ã€‚ <a href=
"https://daringfireball.net/projects/markdown/">åˆæœŸã®ã‚‚ã®</a>ğŸ”—ã«å¿ å®Ÿãªå®Ÿè£…ã‚‰ã—ã„ã€‚</p>
<p>ã¨ã“ã‚ãŒã€ã“ã® <code>markdown</code>
ã‚³ãƒãƒ³ãƒ‰ã¯ã€ä¸€åº¦ã«HTMLã«å¤‰æ›ã§ãã‚‹Markdownãƒ•ã‚¡ã‚¤ãƒ«ã¯ã²ã¨ã¤ã ã‘ã€‚ ãªã®ã§ã€ã„ãã¤ã‹è£œåŠ©ãƒ„ãƒ¼ãƒ«ã‚’ä½œã‚‹å¿…è¦ãŒã‚ã£ãŸã€‚</p>
<p>1ã¤ã‚ã¯ã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®éšå±¤ã‚’ãŸã©ã£ã¦ã€ã™ã¹ã¦ã®Markdownãƒ•ã‚¡ã‚¤ãƒ«ã‚’HTMLã«å¤‰æ›ã™ã‚‹ã‚‚ã®ã€‚
å¯¾å¿œã™ã‚‹HTMLãƒ•ã‚¡ã‚¤ãƒ«ã‚ˆã‚ŠMarkdownã®æ–¹ãŒæ–°ã—ã„å ´åˆã ã‘å¤‰æ›ã™ã‚‹ã€‚ ã¾ãŸã€<code>markdown</code>
ã‚³ãƒãƒ³ãƒ‰ã¯HTMLã®æœ¬ä½“ã®éƒ¨åˆ†ã—ã‹ä½œã£ã¦ãã‚Œãšã€ãƒ˜ãƒƒãƒ€ã‚„ãƒ•ãƒƒã‚¿ã¯ä»˜ã‘ã¦ãã‚Œãªã„ã®ã§ã€ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ä¸­ã§ä»˜ã‘ã‚‹ã€‚
ãã®å¾Œã€ã‚³ãƒ¼ãƒ‰ã‚’ãã‚Œã„ã«æ•´å½¢ã™ã‚‹<a href="formatters.html">Tidy</a>ã‚’æ›ã‘ã‚‹ã€‚ ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯
<code>update.sh</code> ã¨åä»˜ã‘ãŸã€‚</p>
<pre><code>#!/bin/sh
find . -name '*.md' | while read -r mdfile; do
    dir=$(dirname "$mdfile")
    base=$(basename "$mdfile" .md)
    htmlfile="$dir/$base.html"

    if [ ! -f "$htmlfile" ] || [ "$mdfile" -nt "$htmlfile" ]; then
        echo "Converting: $mdfile -&gt; $htmlfile"
        cp head._html "$htmlfile"
        markdown "$mdfile" &gt;&gt;"$htmlfile"
        cat tail._html &gt;&gt;"$htmlfile"
        tidy -mq "$htmlfile" 2&gt;/dev/null
    fi
done
</code></pre>
<p><code>head._html</code> ã¯æ¬¡ã®é€šã‚Šã€‚</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;ã‹ã‚Œã¯é–‹ç™ºå®¤ - Kareha Hub&lt;/title&gt;
&lt;link rel="stylesheet" href="simple.css" /&gt;
&lt;link rel="icon" href="flamingo-favicon.png" type="image/png" /&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;header&gt;
&lt;a href="/"&gt;ã‹ã‚Œã¯é–‹ç™ºå®¤ - Kareha Hub&lt;/a&gt;
&lt;/header&gt;
</code></pre>
<p><code>tail._html</code> ã¯æ¬¡ã®é€šã‚Šã€‚</p>
<pre><code>&lt;footer&gt;
Contact: &lt;a href="mailto:aki@kareha.org"&gt;aki@kareha.org&lt;/a&gt;&lt;br /&gt;
Styled with &lt;a href="https://simplecss.org/"&gt;Simple.css&lt;/a&gt;ğŸ”—
&lt;/footer&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>2ã¤ã‚ã¯ã€å¯¾å¿œã™ã‚‹HTMLãƒ•ã‚¡ã‚¤ãƒ«ã‚ˆã‚ŠMarkdownã®æ–¹ãŒå¤ãã¦ã‚‚å¼·åˆ¶çš„ã«å¤‰æ›ã™ã‚‹ã‚‚ã®ã€‚
ãƒ˜ãƒƒãƒ€ã‚„ãƒ•ãƒƒã‚¿ã‚’æ›´æ–°ã—ãŸéš›ãªã©ã«å¿…è¦ã«ãªã‚‹ã€‚ ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ <code>force-update.sh</code>
ã¨åä»˜ã‘ãŸã€‚</p>
<pre><code>#!/bin/sh
find . -name '*.md' -exec touch '{}' \;
./update.sh
</code></pre>
<p>æœ€å¾Œã«3ã¤ã‚ã¯ã€å¯¾å¿œã™ã‚‹MarkdownãŒã‚‚ã¯ã‚„å­˜åœ¨ã—ãªã„å­¤ç«‹ã—ãŸHTMLãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã™ã‚‹ã‚‚ã®ã€‚ ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯
<code>clean-orphan-html.sh</code> ã¨åä»˜ã‘ãŸã€‚</p>
<pre><code>#!/bin/sh
find . -name '*.html' | while read -r htmlfile; do
    dir=$(dirname "$htmlfile")
    base=$(basename "$htmlfile" .html)
    mdfile="$dir/$base.md"

    if [ ! -f "$mdfile" ]; then
        echo "Removing orphan: $htmlfile"
        rm "$htmlfile"
    fi
done
</code></pre>
<p>ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã®<a href="micro.html">micro</a>ã§Markdownã‚’ç·¨é›†ã—ã¦ä¿å­˜ã—ãŸã‚‰ã€
<code>Ctrl-b</code> ã§ã‚·ã‚§ãƒ«ã‚³ãƒãƒ³ãƒ‰ <code>./update.sh</code> ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã„ã†æµã‚Œã ã€‚
ã“ã‚Œã§ç§ã®GitHubãƒšãƒ¼ã‚¸ä½œã‚Šã«ã¯ã€ã»ã¼ååˆ†ãªæ„Ÿã˜ã ã€‚</p>
<p>ä½¿ã£ã¦ã„ã‚‹å¤é¢¨ãª <code>markdown</code> ã‚³ãƒãƒ³ãƒ‰ã®æ•´å½¢ãƒ«ãƒ¼ãƒ«ã«ã¯æ³¨æ„ã—ãªã„ã¨ã„ã‘ãªã„ã€‚
ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ãŒã‚¿ãƒ–ã‹ã‚¹ãƒšãƒ¼ã‚¹4ã¤ã§ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãªã„ã¨ã„ã‘ãªã‹ã£ãŸã‚Šã€è¡¨ãŒæã‘ãªã‹ã£ãŸã‚Šã€ç®‡æ¡æ›¸ãã®ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã‚‚ã‚¿ãƒ–ã‹ã‚¹ãƒšãƒ¼ã‚¹4ã¤å¿…è¦ã ã£ãŸã‚Šã™ã‚‹ã€‚</p>
<h2>ã‚¹ã‚¿ã‚¤ãƒ«ã‚’æ•´ãˆã‚‹</h2>
<p>ã‚¹ã‚¿ã‚¤ãƒ«ã¯<a href="https://simplecss.org/">Simple.css
Framework</a>ğŸ”—ã®CSSã‚’ä½¿ã†ã“ã¨ã«ã—ãŸã€‚ è‰¯ã„æ„Ÿã˜ã ã€‚</p>
<h2>ã•ã‚‰ã«æ”¹å–„ã™ã‚‹</h2>
<p>ä»¥ä¸Šã§åŸºæœ¬çš„ã«ã¯ååˆ†ã ãŒã€ä½¿ã£ã¦ã„ã‚‹ã†ã¡ã«ã„ãã¤ã‹ä¸æº€ãŒå‡ºã¦ããŸã®ã§ã€æ¬¡ã®ç‚¹ã«ã¤ã„ã¦ä¿®æ­£ã—ã¦ã‚ã‚‹ã€‚</p>
<ul>
<li>ã‚¿ã‚¤ãƒˆãƒ«ã‚’è‡ªå‹•ã§ä»˜ã‘ã‚‹ã€‚</li>
<li>å¤–éƒ¨ã‚µã‚¤ãƒˆã¸ã®ãƒªãƒ³ã‚¯ã‚’åŒºåˆ¥ã™ã‚‹ã€‚</li>
<li>hrã‚¿ã‚°ãŒè¦‹ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚</li>
<li>ãƒ¢ãƒã‚¤ãƒ«ã«å¯¾å¿œã™ã‚‹ã€‚</li>
</ul>
<p>ä»¥ä¸‹ã«æ”¹è¨‚ç‰ˆã‚¹ã‚¯ãƒªãƒ—ãƒˆãªã©ã‚’è¼‰ã›ã‚‹ã€‚</p>
<h3>custom.css ã‚’è¿½åŠ ã—ãŸ</h3>
<p><code>simple.css</code> ã‚’ä¸Šæ›¸ãä¿®æ­£ã™ã‚‹CSSãƒ•ã‚¡ã‚¤ãƒ« <code>custom.css</code>
ã‚’è¿½åŠ ã—ãŸã€‚ <code>hr</code> ã‚¿ã‚°ãŒè¦‹ãˆãªã„å•é¡Œã‚’ä¿®æ­£ã—ãŸã€‚</p>
<pre><code>hr {
    width: 100%;
    height: 1px;
}
</code></pre>
<h3>extract_title.pl ã‚’è¿½åŠ ã—ãŸ</h3>
<p>Markdownãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ãƒšãƒ¼ã‚¸ã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’å–ã‚Šå‡ºã™ã‚¹ã‚¯ãƒªãƒ—ãƒˆ <code>extract_title.pl</code>
ã‚’è¿½åŠ ã—ãŸã€‚ ä¸€ç•ªå¤§ãã„è¦‹å‡ºã—ã¨ã€ãã®æ¬¡ã®è¡Œã‚’ä½¿ã£ã¦ã€ã‚¿ã‚¤ãƒˆãƒ«ã‚’ä½œã‚‹ã€‚</p>
<pre><code>#!/usr/bin/perl
use strict;
use warnings;

my $file = shift or die "Usage: $0 &lt;markdown_file&gt;\n";

open my $fh, '&lt;', $file or die "Cannot open file '$file': $!\n";

my $line1 = &lt;$fh&gt;;
my $line2 = &lt;$fh&gt;;
close $fh;

unless ( defined $line1 ) {
    print "(blank)";
    exit;
}

chomp($line1);
chomp($line2) if defined $line2;

$line1 =~ s/^#+\s*//;

my $title;
if ( $line1 =~ / - / ) {
    $title = $line1;
}
elsif ( defined $line2 &amp;& $line2 ne "" ) {
    $title = "$line1 - $line2";
}
else {
    $title = $line1;
}

my $site_title = "ã‹ã‚Œã¯é–‹ç™ºå®¤ - Kareha Hub";

if ($title eq $site_title) {
    print $title;
} else {
    print "$title | $site_title";
}
</code></pre>
<h3>head._html ã‚’æ”¹è¨‚ã—ãŸ</h3>
<p>HTMLã®ãƒ˜ãƒƒãƒ€ <code>head._html</code> ã‚’æ”¹è¨‚ã—ãŸã€‚</p>
<p>ä¿®æ­£ç‚¹ã®1ã¤ã‚ã¯ã€ã‚¿ã‚¤ãƒˆãƒ«ã‚’å‹•çš„ã«åŸ‹ã‚è¾¼ã‚€ãŸã‚ã«ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ <code>{{title}}</code>
ã«ç½®ãæ›ãˆãŸã€‚</p>
<p>2ã¤ã‚ã¯ã€ <code>simple.css</code> ã§è¦‹ãˆãªã„ <code>hr</code>
ã‚¿ã‚°ã‚’è¦‹ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã€è¿½åŠ ã§ <code>custom.css</code> ã‚’èª­ã¿è¾¼ã‚€ã‚ˆã†ã«ã—ãŸã€‚</p>
<p>3ã¤ã‚ã¯ã€ãƒ¢ãƒã‚¤ãƒ«ã§ã®è¦‹æ „ãˆã‚’è‰¯ãã™ã‚‹ãŸã‚ã«ã€ <code>viewport</code> ã®
<code>meta</code> ã‚¿ã‚°ã‚’è¿½åŠ ã—ãŸã€‚</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
&lt;meta charset="UTF-8" /&gt;
&lt;meta name="viewport" content="width=device-width, initial-scale=1" /&gt;
&lt;title&gt;{{title}}&lt;/title&gt;
&lt;link rel="stylesheet" href="simple.css" /&gt;
&lt;link rel="stylesheet" href="custom.css" /&gt;
&lt;link rel="icon" href="flamingo-favicon.png" type="image/png" /&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;header&gt;
&lt;a href="/"&gt;ã‹ã‚Œã¯é–‹ç™ºå®¤ - Kareha Hub&lt;/a&gt;
&lt;/header&gt;
</code></pre>
<h3>update.sh ã‚’æ”¹è¨‚ã—ãŸ</h3>
<p>å¤‰æ›ã®ãƒ¡ã‚¤ãƒ³ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆ <code>update.sh</code> ã‚’æ”¹è¨‚ã—ãŸã€‚</p>
<p>ä¿®æ­£ç‚¹ã®1ã¤ã‚ã¯ã€HTMLã®ãƒ˜ãƒƒãƒ€ <code>head._html</code> ã®ã‚¿ã‚¤ãƒˆãƒ«ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
<code>{{title}}</code> ã‚’ã€ <code>extract_title.pl</code>
ã§å‹•çš„ã«ç”Ÿæˆã—ãŸã‚¿ã‚¤ãƒˆãƒ«ã§ç½®ãæ›ãˆã‚‹ã‚ˆã†ã«ã—ãŸã€‚</p>
<p>2ã¤ã‚ã¯ã€Markdownã®æ®µéšã§ã€å¤–éƒ¨ã‚µã‚¤ãƒˆã¸ã®ãƒªãƒ³ã‚¯ã®ç›´å¾Œã«çµµæ–‡å­—ã®ãƒªãƒ³ã‚¯ğŸ”—ã‚’è¿½åŠ ã™ã‚‹ã‚ˆã†ã«ã—ãŸã€‚</p>
<pre><code>#!/bin/sh
find . -name '*.md' | while read -r mdfile; do
    dir=$(dirname "$mdfile")
    base=$(basename "$mdfile" .md)
    htmlfile="$dir/$base.html"

    if [ ! -f "$htmlfile" ] || [ "$mdfile" -nt "$htmlfile" ]; then
        echo "Converting: $mdfile -&gt; $htmlfile"
        title=$(./extract_title.pl "$mdfile")
        escaped_title=$(echo $title | sed -e 's/\\/\\\\/g' -e 's/\//\\\//g' -e 's/&amp;/\\\&amp;/g')
        sed "s/{{title}}/$escaped_title/" head._html &gt;"$htmlfile"
        cat "$mdfile" | sed -E 's/(\[[^][]+\])\((https?:\/\/[^)]+)\)/\1(\2)ğŸ”—/g' | markdown &gt;&gt;"$htmlfile"
        cat tail._html &gt;&gt;"$htmlfile"
        tidy -mq "$htmlfile" 2&gt;/dev/null
    fi
done
</code></pre>
<p>(ç¶šãã€‚)</p>
<footer>Contact: <a href=
"mailto:aki@kareha.org">aki@kareha.org</a><br>
Styled with <a href=
"https://simplecss.org/">Simple.css</a>ğŸ”—</footer>
</body>
</html>
